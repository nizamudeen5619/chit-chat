<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chit Chat</title>
    <link rel="icon" href="/img/favicon.png">
    <link rel="stylesheet" href="/css/styles.css">
</head>

<body>
    <div>
    </div>
    <div class="centered-form">
        <div class="centered-form__box">
            <h1>Chit Chat with Nizam</h1>
            <form id="join-form" action="/chat.html">
                <label for="username">Display Name</label>
                <input type="text" id="username" name="username" placeholder="Enter your name" required autofocus>
                <label for="room">Room</label>
                <input type="text" id="room" name="room" placeholder="Enter room name" required>
                <button type="submit">Join Chat</button>
            </form>
            <script>
                // Load saved values from sessionStorage
                const usernameInput = document.getElementById('username');
                const roomInput = document.getElementById('room');
                const joinForm = document.getElementById('join-form');

                // Pre-fill form with saved values if they exist
                const savedUsername = sessionStorage.getItem('chatUsername');
                const savedRoom = sessionStorage.getItem('chatRoom');

                if (savedUsername) {
                    usernameInput.value = savedUsername;
                }
                if (savedRoom) {
                    roomInput.value = savedRoom;
                }

                // Save values to sessionStorage when form is submitted
                joinForm.addEventListener('submit', (e) => {
                    const username = usernameInput.value.trim();
                    const room = roomInput.value.trim();

                    if (username) {
                        sessionStorage.setItem('chatUsername', username);
                    }
                    if (room) {
                        sessionStorage.setItem('chatRoom', room);
                    }
                });
            </script>
        </div>
    </div>
</body>

</html>